<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
  <title>解析による無刀反撃の可否判断 - ロマサガ3のアイテムのページ</title>
  <link rel="stylesheet" type="text/css" href="../rs3i.css">
</head>

<body>
<script src="../header.js"></script>

<article>
<div class="d1" id="data">
  <h1>解析による無刀反撃の可否判断</h1>
  <p class="noindent">
    <strong>「無刀取りの可否は、「モンスターが落とすお宝を決めるコード（お宝コード）」によって決められている」</strong>ということが<a href="#info1">通りすがりさんの情報提供</a>により判明致しました。<br>
    これによって、無刀取りの可否に関する一連の議論に決着を付けることができます。
  </p>
  <a name="info1"></a><h3>通りすがりさんの情報提供</h3>
  <p>
  （「<a href="http://homepage1.nifty.com/di2/">ロマサガ3のモンスターのページ</a>」の掲示板より抜粋）
  </p>
    <p>ＲＯＭの中の敵データの中には落とすアイテムを決めている<br>
    通称「お宝コード」があり、それは無刀取り不可能のフラグとしても使われています。<br>
    <br>
    例えば、アールヴの場合お宝コードは１６進数で「36」が入っています。<br>
    これを２進数に変換すると「00110110」になります。<br>
    左の２文字が無刀取り不可能フラグです。<br>
    「0」は無刀取りが可能で「1」は無刀取り不可能を意味しています。<br>
    左から１文字目は第１武器、左から２文字目は第２武器に対応していて<br>
    アールヴは共に「0」で、第１武器（東方不敗）第２武器（月下美人）が共に無刀取り可能です。<br>
    <br>
    次に、アレフのお宝コードは１６進数で「6C」です。<br>
    これを２進数に変換すると「01101100」になります。<br>
    左の２文字を見てみると１文字目は「0」、２文字目は「1」です。<br>
    アレフは第１武器（アーメントゥーム）のみが無刀取り可能で<br>
    第２武器（竜鱗の剣）は奪えません。<br>
    <br>
    ドラゴンルーラーのデータは数種類ありますが、どれもお宝コードは１６進数で「DC」です。<br>
    これを２進数に変換すると「11011100」になります。<br>
    左の２文字は二つとも無刀取り不可能を意味する「1」になっています。<br>
    したがってドラゴンルーラーから無刀取りは出来ません。<br>
    <br>
    ちなみに戦闘中はアドレス「7E204F」に代入されていますので（モンスター１の場合）<br>
    例えば「7E204F 0F」と改造コード入れれば無刀取りが可能な攻撃をしてこれば<br>
    どんな敵からも無刀取りが出来るようになります。<br>
    <br>
    簡単な見分け方としては、お宝コードが<br>
    <ul>
    <li>「00〜3F」は無刀取りが可能</li>
    <li>「40〜7F」なら第１武器だけ無刀取りが可能</li>
    <li>「80〜BF」なら第２武器だけ無刀取りが可能（<a href="#info2">※</a>）</li>
    <li>「C0〜FF」ならどちらも無刀取りは不可能</li>
    </ul>
    <p>
    です。
    </p>
  <a name="info2"></a><h3>第２武器の無刀反撃の可否（調査: ANCIENTさん）</h3>
  <h4>実験方法</h4>
    <ol>
    <li>第１武器に対応する攻撃パターンを全て遠距離攻撃（遠当て）にし、第１武器の無刀反撃による敵の死亡やパターンの崩壊を防ぐ。</li>
    <li>第２武器に対応する攻撃パターンを全て直接攻撃（剣攻撃）にし、第２武器の無刀反撃の機会を増やす。</li>
    <li>剣・大剣レベル、器用さを高い値（FF）にし、無刀反撃の成功率を限りなく100パーセントに近くする。</li>
    <li>お宝コードの上位２ビットを変化させつつ状況再現を行い、無刀反撃の可否を調べる。</li>
    </ol>
  <h4>実験方法の解説</h4>
    <ul>
    <li>１〜３は第２武器の無刀反撃の可否に影響を及ぼさないので、問題なし。</li>
    <li>１〜４は全てチートコードを用いて操作した。</li>
    </ul>
  <h4>結果</h4>
    <p>
    数種のモンスターを相手に実験したところ、次のような法則を得た。
    </p>
    <ol>
    <li>
      第１武器と第２武器が異なるモンスター<br>
      お宝コードの上位から１ビット目は、第２武器の無刀反撃の可否に影響を及ぼさない。<br>
      お宝コードの上位から２ビット目が、０なら無刀反撃可、１なら不可。<br>
    </li>
    <li>
      第１武器と第２武器が同じモンスター<br>
      お宝コードの上位から１ビット目が、０なら無刀反撃可、１なら不可。<br>
      お宝コードの上位から２ビット目は、第２武器の無刀反撃の可否に影響を及ぼさない。<br>
    </li>
    </ol>
  <h4>結論</h4>
    <ol>
    <li>第１武器と第２武器が異なるモンスターは、お宝コードの上位２ビット両方とも有効であり、第１武器・第２武器それぞれについて無刀反撃の可否を規定している。</li>
    <li>第１武器と第２武器が同じモンスターは、お宝コードの上位１ビットのみ有効であり、その１ビットだけで第１武器・第２武器両方の無刀反撃の可否を規定している。</li>
    </ol>
<!--
  <h3>補足</h3>
    <p>一部の掲示板で、特定の条件（敵が何らかの状態異常、敵のＨＰがかなり減っている、ターン数等）が揃うと無刀反撃が成功する可能性があるという情報があるようですが、それについて簡単に検証します。</p>
    <p>まず、「お宝コード」はモンスターデータのひとつとして「ROM内に」書き込まれているものであり、戦闘中いかなる条件においても変化するものでありません。このことは<a href="http://karen.saiin.net/~g-kaizou/">asmさんのページ</a>のモンスターコード表を見ても明らかです。</p>
    <p>次に、「お宝コード」が無刀反撃の可否に影響を与えることを証明します。<br>
    下の実験結果は、ANCIENTさんが提供してくださいました。</p>
    <ol>
    <li>地狼のお宝コードの上位2ビットを0として１ターン目に（牙攻撃）無刀反撃が発動するパターン発見</li>
    <li>チートコードを無効にして（=お宝コード上位2ビットを1として）「1.」のパターンを再現し無刀反撃ができないことを確認</li>
    </ol>
    <p>先ほど述べたように、「お宝コード」は戦闘中いかなる条件においても変化するものでありません。<br>
    つまり、無刀反撃の可否は、戦闘中、いかなる要因によっても変化するものではないということが言えると思います。
    </p>
-->
<div class="footmap">
  [ <a href="mutou2.html">戻る</a> ]<br>
  [ <a href="index.html">無刀取り研究トップ</a> ]<br>
</div>
</div>
</article>

<script src="../footer.js"></script>

</body>
</html>
